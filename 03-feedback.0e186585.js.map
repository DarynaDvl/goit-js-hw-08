{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,mBAC7BC,EAAYC,GAAiBJ,EAmCpC,SAASK,IACP,MAAO,CAAEC,MAAOH,EAAWI,MAAOC,QAASJ,EAAcG,M,CAjC3DP,EAAKS,iBAAiB,QAASC,EAAAZ,EAAA,EAc/B,WACE,MAAMa,EAAcN,IACpBO,aAAaC,QAlBa,sBAkBgBC,KAAKC,UAAUJ,G,GAhBV,MACjDX,EAAKS,iBAAiB,UAkBtB,SAAkBO,GAChBA,EAAMC,iBACN,MAAMN,EAAcN,IAEhBM,EAAYL,OAASK,EAAYH,SACnCU,QAAQC,IAAIR,GACZC,aAAaQ,WA3BW,uBA4BxBpB,EAAKqB,SAELC,MAAM,6B,IA1BVC,OAAOd,iBAAiB,QAExB,WACE,MAAMe,EAAmBV,KAAKW,MAC5Bb,aAAac,QARW,wBAUtBF,IACFrB,EAAWI,MAAQiB,EAAiBlB,MACpCF,EAAcG,MAAQiB,EAAiBhB,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst [inputValue, textareaValue] = form;\nconst FEEDBACK_FORM_STATE = 'feedback-form-state';\n\nform.addEventListener('input', throttle(onInput, 500));\nform.addEventListener('submit', onSubmit);\nwindow.addEventListener('load', pageLoad);\n\nfunction pageLoad() {\n  const localStorageData = JSON.parse(\n    localStorage.getItem(FEEDBACK_FORM_STATE)\n  );\n  if (localStorageData) {\n    inputValue.value = localStorageData.email;\n    textareaValue.value = localStorageData.message;\n  }\n}\n\nfunction onInput() {\n  const currentData = getDataForm();\n  localStorage.setItem(FEEDBACK_FORM_STATE, JSON.stringify(currentData));\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const currentData = getDataForm();\n\n  if (currentData.email && currentData.message) {\n    console.log(currentData);\n    localStorage.removeItem(FEEDBACK_FORM_STATE);\n    form.reset();\n  } else {\n    alert('Both fields must be filled');\n  }\n}\n\nfunction getDataForm() {\n  return { email: inputValue.value, message: textareaValue.value };\n}\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$inputValue","$945622fd0f572e60$var$textareaValue","$945622fd0f572e60$var$getDataForm","email","value","message","addEventListener","$parcel$interopDefault","currentData","localStorage","setItem","JSON","stringify","event","preventDefault","console","log","removeItem","reset","alert","window","localStorageData","parse","getItem"],"version":3,"file":"03-feedback.0e186585.js.map"}